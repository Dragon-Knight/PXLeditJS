<!DOCTYPE html>
<html lang="ru">
	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
		<title>PXLeditJS</title>
		
		<link rel="icon" type="image/x-icon" href="./images/favicon.ico">
		<meta name="viewport" content="width=device-width, initial-scale=1">
		
		<link type="text/css" rel="stylesheet" href="core.css" />
		
		<script type="text/javascript" src="jquery-3.6.4.min.js"></script>
		<script type="text/javascript" src="core.js"></script>
		<script type="text/javascript" src="export.js"></script>
		<script type="text/javascript" src="import.js"></script>
	</head>
	<body style="background-color: #d0d0d0;">






<div class="block">
	
	<fieldset>
		<legend>Настройка</legend>
		
		<!--
		<input type="range" class="ControlTools ControlRange" min="1" max="255" value="128" data-type="gridsize" data-value="width" />
		<br>
		<input type="range" class="ControlTools ControlRange" min="1" max="255" value="16" data-type="gridsize" data-value="height" />
		<br>
		<input type="range" class="ControlTools ControlRange" min="1" max="15" value="11" data-type="gridsize" data-value="gridsize" />
		<br>
		-->
		
		
		<fieldset class="ControlElement">
			<legend>Размеры: X x Y, S</legend>
			
			<input type="range" class="ControlTools ControlRange1" min="1" max="255" value="" data-type="gridsize" data-value="width" />
			<br>
			<input type="range" class="ControlTools ControlRange1" min="1" max="255" value="" data-type="gridsize" data-value="height" />
			<br>
			<input type="range" class="ControlTools ControlRange1" min="1" max="15" value="" data-type="gridsize" data-value="gridsize" />
		</fieldset>
		
		
		<button type="button" class="ControlTools" data-type="gridsize" data-value="preset" data-w="128" data-h="16">128x16</button> 
		<button type="button" class="ControlTools" data-type="gridsize" data-value="preset" data-w="180" data-h="1">180x1</button> 
	</fieldset>
	
	
	<fieldset>
		<legend>Рисование</legend>
		
		<input type="color" id="ControlColor" value="#00b0f0" />
		<input type="range" id="ControlAlpha" min="0" max="255" step="1" value="255" />
		
		<fieldset style="display: block; display: block; padding: 6px; margin: 0px; border-radius: 6px;">
			<div id="ControlLastColors" style="/*overflow: hidden; width: 224px;*/ height: 32px; /*display: flow-root;*/"></div>
		</fieldset>
		
		<br>
		
		<!--
		https://www.flaticon.com/
		-->
		
		<div class="MyGUIIcon ControlTools" title="Карандаш" data-type="tools" data-value="pencil" style="background: center no-repeat url('images/pencil.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Пипетка" data-type="tools" data-value="pipette" style="background: center no-repeat url('images/pipette.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Заменить цвет" data-type="tools" data-value="replacecolor" style="background: center no-repeat url('images/replace.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Ластик" data-type="tools" data-value="eraser" style="background: center no-repeat url('images/eraser.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Горизонтальная линия" data-type="tools" data-value="line" data-line="horizontal" style="background: center no-repeat url('images/lineh.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Вертикальная линия" data-type="tools" data-value="line" data-line="vertical" style="background: center no-repeat url('images/linew.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Ничего" data-type="tools" data-value="void" style="background: center no-repeat url('images/none.png');"></div> 
		<br>
		<div class="MyGUIIcon ControlTools" title="Сдвиг влево" data-type="tools" data-value="move" data-direction="left" style="background: center no-repeat url('images/arrow-left.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Сдвиг вверх" data-type="tools" data-value="move" data-direction="up" style="background: center no-repeat url('images/arrow-up.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Сдвиг вправо" data-type="tools" data-value="move" data-direction="right" style="background: center no-repeat url('images/arrow-right.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Сдвиг вниз" data-type="tools" data-value="move" data-direction="down" style="background: center no-repeat url('images/arrow-down.png');"></div> 

		<div class="MyGUIIcon ControlTools" title="Ничего" data-type="tools" data-value="void" style="background: center no-repeat url('images/none.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Ничего" data-type="tools" data-value="void" style="background: center no-repeat url('images/none.png');"></div> 
		<div class="MyGUIIcon ControlTools" title="Удалить цвет" data-type="tools" data-value="clearcolor" style="background: center no-repeat url('images/delete.png');"></div> 
		


		
		
	</fieldset>
	
	

	
	
	
	<fieldset>
		<legend>Управление кадрами</legend>

		<button type="button" class="ControlTools" data-type="frames" data-value="left"> <<< </button> 
		<span id="FrameActiveNum">1/1</span> 
		<button type="button" class="ControlTools" data-type="frames" data-value="right"> >>> </button> 
		<button type="button" class="ControlTools" data-type="frames" data-value="add"> Добавить </button> 
		<button type="button" class="ControlTools" data-type="frames" data-value="copy"> Копировать </button> 
		<br>
		<button type="button" class="ControlTools" data-type="frames" data-value="tobuff"> В буфер </button> 
		<button type="button" class="ControlTools" data-type="frames" data-value="clear"> Очистить </button> 
		<button type="button" class="ControlTools" data-type="frames" data-value="delete"> Удалить </button> 
		<br>

		<fieldset class="ControlElement">
			<legend>Задержка кадра</legend>
			
			<input type="range" class="ControlTools ControlRange" min="0" max="65535" value="200" data-type="frames" data-value="timeout" />
		</fieldset>
		
<!--
		<fieldset class="ControlElement">
			<legend>Задержка кадра: 200 мс</legend>
			<input type="range" class="ControlTools ControlRange1" min="100" max="2000" value="200" data-type="frames" data-value="timeout" />
		</fieldset>
-->
		
		<fieldset class="ControlElement">
			<legend>Повтор анимации: Нет</legend>
			<input type="range" class="ControlTools ControlRange1" min="0" max="255" value="0" data-type="frames" data-value="repeats" />
		</fieldset>
		
	</fieldset>
	
	
	<fieldset>
		<legend>Импорт данных</legend>
		
		<fieldset class="ControlElement">
			<legend>'Прозрачный' цвет, например #000000</legend>

			<input type="input" id="ImportRemoveColor" minlength="7" maxlength="7" pattern="^#[a-fA-F0-9]{6}$" placeholder="#000000" />
		</fieldset>
		
		<input type="file" id="avatar" accept="image/bmp, image/jpg, image/png, image/gif, .pxl, .out" style="display: none;" />
		<input type="button" value=" Обзор... " onclick="$(this).prev().click();" />
		<span id="ImportResultText"></span>
	
	</fieldset>	
	
	
	<fieldset>
		<legend>Экспорт данных</legend>
		
		<fieldset class="ControlElement">
			<legend>Формат цветности и ленты</legend>
			
			<select id="ExportColorFormat" class="ControlTools">
				<option disabled selected>Выберите</option>
				<option value="0" >RGB</option>
				<option value="1" >RGBA</option>
				<option value="2" >* GRBA</option>
				<option value="3" >Color_0x03</option>
				<option value="4" >Color_0x04</option>
				<option value="5" >Color_0x05</option>
				<option value="6" >Color_0x06</option>
				<option value="7" >Color_0x07</option>
				<option value="8" >Color_0x08</option>
				<option value="9" >Color_0x09</option>
				<option value="10">Color_0x10</option>
				<option value="11">Color_0x11</option>
				<option value="12">Color_0x12</option>
				<option value="13">Color_0x13</option>
				<option value="14">Color_0x14</option>
				<option value="15">Color_0x15</option>
			</select>
			
			<select id="ExportStripFormat" class="ControlTools">
				<option disabled selected>Выберите</option>
				<option value="0" >Построчная</option>
				<option value="1" >Strip_0x01</option>
				<option value="2" >* Зигзаг вертикальный</option>
				<option value="3" >Strip_0x03</option>
				<option value="4" >Strip_0x04</option>
				<option value="5" >Strip_0x05</option>
				<option value="6" >Strip_0x06</option>
				<option value="7" >Strip_0x07</option>
				<option value="8" >Strip_0x08</option>
				<option value="9" >Strip_0x09</option>
				<option value="10">Strip_0x10</option>
				<option value="11">Strip_0x11</option>
				<option value="12">Strip_0x12</option>
				<option value="13">Strip_0x13</option>
				<option value="14">Strip_0x14</option>
				<option value="15">Strip_0x15</option>
			</select>

			<br>
			<small>* Звёздочкой отмечен формат для плат Pixel.</small>
		</fieldset>
		
		<br>
		
		<button type="button" class="ControlTools" data-type="export" data-value="run"> Экспортировать </button> 
	</fieldset>

</div>

<div class="block">

	<canvas id="canvas" style="border: 1px red solid;"></canvas>

</div>


	
	</body>
</html>